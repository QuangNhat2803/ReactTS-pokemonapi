{"ast":null,"code":"import _regeneratorRuntime from\"D:/Work/TS-pokemon/pokemon-tut/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _toConsumableArray from\"D:/Work/TS-pokemon/pokemon-tut/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"D:/Work/TS-pokemon/pokemon-tut/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/Work/TS-pokemon/pokemon-tut/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import axios from'axios';import'./App.css';import PokemonColection from'./components/pokemonColection';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),pokemons=_useState2[0],setPokemons=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),nextUrl=_useState4[0],setNextUrl=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var _useState7=useState({id:0,isOpened:false}),_useState8=_slicedToArray(_useState7,2),viewDetail=_useState8[0],setDetail=_useState8[1];useEffect(function(){var getPokemon=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var res;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get(\"https://pokeapi.co/api/v2/pokemon?limit=25&offset=25\");case 2:res=_context2.sent;setNextUrl(res.data.next);res.data.results.forEach(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(pokemon){var poke;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"https://pokeapi.co/api/v2/pokemon/\".concat(pokemon.name));case 2:poke=_context.sent;setPokemons(function(p){return[].concat(_toConsumableArray(p),[poke.data]);});// console.log(poke.data)\nsetLoading(false);case 5:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref2.apply(this,arguments);};}());case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function getPokemon(){return _ref.apply(this,arguments);};}();getPokemon();},[]);var nextPage=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(){var res;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:setLoading(true);_context4.next=3;return axios.get(nextUrl);case 3:res=_context4.sent;setNextUrl(res.data.next);res.data.results.forEach(/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(pokemon){var poke;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return axios.get(\"https://pokeapi.co/api/v2/pokemon/\".concat(pokemon.name));case 2:poke=_context3.sent;setPokemons(function(p){return[].concat(_toConsumableArray(p),[poke.data]);});setLoading(false);case 5:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x2){return _ref4.apply(this,arguments);};}());case 6:case\"end\":return _context4.stop();}}},_callee4);}));return function nextPage(){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"pokemon-header\",children:\"Pok\\xE9mon\"}),/*#__PURE__*/_jsx(PokemonColection,{pokemons:pokemons,viewDetail:viewDetail,setDetail:setDetail}),!viewDetail.isOpened&&/*#__PURE__*/_jsx(\"div\",{className:\"btn\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:nextPage,children:[loading?\"Loading...\":\"Load more\",\" \"]})})]})});};export default App;","map":{"version":3,"names":["React","useEffect","useState","axios","PokemonColection","App","pokemons","setPokemons","nextUrl","setNextUrl","loading","setLoading","id","isOpened","viewDetail","setDetail","getPokemon","get","res","data","next","results","forEach","pokemon","name","poke","p","nextPage"],"sources":["D:/Work/TS-pokemon/pokemon-tut/src/App.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport './App.css';\nimport PokemonColection from './components/pokemonColection';\nimport { Pokemon } from './interface';\n\n\ninterface Pokemons {\n  name: string,\n  url: string\n}\n\n\nexport interface Detail {\n  id: number,\n  isOpened: boolean;\n}\n\n\nconst App: React.FC = () => {\n  const [pokemons, setPokemons] = useState<Pokemon[]>([]);\n  const [nextUrl, setNextUrl] = useState<string>(\"\");\n  const [loading, setLoading] = useState<boolean>(true);\n  const [viewDetail, setDetail] = useState<Detail>({\n    id:0,\n    isOpened:false,\n  });\n\n  useEffect(() => {\n    const getPokemon = async () => {\n      const res = await axios.get(\n        \"https://pokeapi.co/api/v2/pokemon?limit=25&offset=25\"\n      );\n      setNextUrl(res.data.next);\n      \n      res.data.results.forEach(async (pokemon: Pokemons) => {\n        const poke = await axios.get(\n          `https://pokeapi.co/api/v2/pokemon/${pokemon.name}`\n        );\n        setPokemons((p) => [...p, poke.data]);\n        // console.log(poke.data)\n        setLoading(false);\n      });\n    };\n\n    getPokemon();\n\n  }, []);\n\n  const nextPage = async () =>{\n    setLoading(true);\n    let res = await axios.get(nextUrl); \n    setNextUrl(res.data.next);\n    res.data.results.forEach(async(pokemon:Pokemons)=>{\n      const poke  = await axios.get(`https://pokeapi.co/api/v2/pokemon/${pokemon.name}`)\n      setPokemons((p)=>[...p,poke.data]);\n      setLoading(false);\n    })\n  }\n  return (\n    <div className=\"App\">\n      <div className=\"container\">\n        <header className=\"pokemon-header\">\n          Pok√©mon\n        </header>\n        <PokemonColection\n          pokemons={pokemons}\n          viewDetail={viewDetail}\n          setDetail={setDetail}\n        />\n        {!viewDetail.isOpened && (\n             <div className=\"btn\" >\n             <button onClick={nextPage}>{loading? \"Loading...\" : \"Load more\"} </button>\n           </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"weAAA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,MAAO,WAAP,CACA,MAAOC,iBAAP,KAA6B,+BAA7B,C,wFAgBA,GAAMC,IAAa,CAAG,QAAhBA,IAAgB,EAAM,CAC1B,cAAgCH,QAAQ,CAAY,EAAZ,CAAxC,wCAAOI,QAAP,eAAiBC,WAAjB,eACA,eAA8BL,QAAQ,CAAS,EAAT,CAAtC,yCAAOM,OAAP,eAAgBC,UAAhB,eACA,eAA8BP,QAAQ,CAAU,IAAV,CAAtC,yCAAOQ,OAAP,eAAgBC,UAAhB,eACA,eAAgCT,QAAQ,CAAS,CAC/CU,EAAE,CAAC,CAD4C,CAE/CC,QAAQ,CAAC,KAFsC,CAAT,CAAxC,yCAAOC,UAAP,eAAmBC,SAAnB,eAKAd,SAAS,CAAC,UAAM,CACd,GAAMe,WAAU,4FAAG,yKACCb,MAAK,CAACc,GAAN,CAChB,sDADgB,CADD,QACXC,GADW,gBAIjBT,UAAU,CAACS,GAAG,CAACC,IAAJ,CAASC,IAAV,CAAV,CAEAF,GAAG,CAACC,IAAJ,CAASE,OAAT,CAAiBC,OAAjB,6FAAyB,iBAAOC,OAAP,mJACJpB,MAAK,CAACc,GAAN,6CACoBM,OAAO,CAACC,IAD5B,EADI,QACjBC,IADiB,eAIvBlB,WAAW,CAAC,SAACmB,CAAD,qCAAWA,CAAX,GAAcD,IAAI,CAACN,IAAnB,IAAD,CAAX,CACA;AACAR,UAAU,CAAC,KAAD,CAAV,CANuB,sDAAzB,iEANiB,wDAAH,kBAAVK,WAAU,0CAAhB,CAgBAA,UAAU,GAEX,CAnBQ,CAmBN,EAnBM,CAAT,CAqBA,GAAMW,SAAQ,6FAAG,kJACfhB,UAAU,CAAC,IAAD,CAAV,CADe,uBAECR,MAAK,CAACc,GAAN,CAAUT,OAAV,CAFD,QAEXU,GAFW,gBAGfT,UAAU,CAACS,GAAG,CAACC,IAAJ,CAASC,IAAV,CAAV,CACAF,GAAG,CAACC,IAAJ,CAASE,OAAT,CAAiBC,OAAjB,6FAAyB,kBAAMC,OAAN,wJACHpB,MAAK,CAACc,GAAN,6CAA+CM,OAAO,CAACC,IAAvD,EADG,QACjBC,IADiB,gBAEvBlB,WAAW,CAAC,SAACmB,CAAD,qCAASA,CAAT,GAAWD,IAAI,CAACN,IAAhB,IAAD,CAAX,CACAR,UAAU,CAAC,KAAD,CAAV,CAHuB,wDAAzB,kEAJe,wDAAH,kBAARgB,SAAQ,2CAAd,CAUA,mBACE,YAAK,SAAS,CAAC,KAAf,uBACE,aAAK,SAAS,CAAC,WAAf,wBACE,eAAQ,SAAS,CAAC,gBAAlB,wBADF,cAIE,KAAC,gBAAD,EACE,QAAQ,CAAErB,QADZ,CAEE,UAAU,CAAEQ,UAFd,CAGE,SAAS,CAAEC,SAHb,EAJF,CASG,CAACD,UAAU,CAACD,QAAZ,eACI,YAAK,SAAS,CAAC,KAAf,uBACA,gBAAQ,OAAO,CAAEc,QAAjB,WAA4BjB,OAAO,CAAE,YAAF,CAAiB,WAApD,OADA,EAVP,GADF,EADF,CAmBD,CA3DD,CA6DA,cAAeL,IAAf"},"metadata":{},"sourceType":"module"}